<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculate Quarterly Averages</title>
  <link rel="apple-touch-icon" sizes="57x57" href="https://calculate-avgs.web.app/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="https://calculate-avgs.web.app/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="https://calculate-avgs.web.app/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="https://calculate-avgs.web.app/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="https://calculate-avgs.web.app/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://calculate-avgs.web.app/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="https://calculate-avgs.web.app/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="https://calculate-avgs.web.app/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://calculate-avgs.web.app/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="https://calculate-avgs.web.app/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://calculate-avgs.web.app/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="https://calculate-avgs.web.app/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://calculate-avgs.web.app/icons/favicon-16x16.png">
  <link rel="manifest" href="https://calculate-avgs.web.app/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="https://calculate-avgs.web.app/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <link href="style.css" rel="stylesheet">
</head>

<body>
  <main class="container mb-3">
    <div id="calculate-avgs">
      <h1 class="title mt-5">Calculate Quarterly Averages</h1>
      <p class="text-muted mb-3">The main objective of this app is to calculate the three averages between given high and low numbers, this will divides the range into quarters.</p>
      <form class="mb-5" @submit.prevent="calculate">
        <div v-if="errors.length">
          <b>Please correct the following error(s):</b>
          <ul>
            <li v-for="error in errors">{{ error }}</li>
          </ul>
        </div>
        
        <div class="row">
          <div class="col-md-6 mb-3">
            <input id="high" class="form-control" name="high" type="text" v-model="high" placeholder="Enter high here..." />
          </div>
          <div class="col-md-6 mb-3">
            <input id="low" class="form-control" name="low" type="text" v-model="low" placeholder="Enter low here..." />
          </div>
        </div>

        <div class="mb-3">
          <input type="submit" value="Calculate" class="btn btn-success" />
          <a class="btn btn-default" @click.prevent="clear">Clear</a>
        </div>
      </form>
      
      <h2 class="mb-3">Averages</h2>
      
      <p><strong class="h5">High: </strong><span class="h4 text-warning">{{ highResult }}</span></p>
      <p><strong class="h5">Avg1: </strong><span class="h4 text-success">{{ avg1Result }}</span></p>
      <p><strong class="h5">Middle: </strong><span class="h4 text-info">{{ middleResult }}</span></p>
      <p><strong class="h5">Avg2: </strong><span class="h4 text-success">{{ avg2Result }}</span></p>
      <p><strong class="h5">Low: </strong><span class="h4 text-warning">{{ lowResult }}</span></p>
    </div>
  </main>

  <footer class="footer text-muted">
    <div class="footer-content container">
      <p>
        <strong>Maintained by: </strong> Mohammad Jaqmaqji <a href="mailto:mohjak@gmail.com">mohjak@gmail.com</a> - <strong>Source Code: </strong> <a href="https://github.com/mohjak/calculate-avgs">https://github.com/mohjak/calculate-avgs</a> - <strong>Licensed under: </strong> <a href="https://raw.githubusercontent.com/mohjak/archviz-docs/master/LICENSE?token=AACJEB3T5ARECHETCENENQDATI2SM">MIT</a> license.
      </p>
      <p>
        Found this app useful, consider making a donation 
				<span>
					<style type="text/css"> .btcpay-form { display: inline-flex; align-items: center; justify-content: center; } .btcpay-form--inline { flex-direction: row; } .btcpay-form--block { flex-direction: column; } .btcpay-form--inline .submit { margin-left: 15px; } .btcpay-form--block select { margin-bottom: 10px; } .btcpay-form .btcpay-custom-container{ text-align: center; }.btcpay-custom { display: flex; align-items: center; justify-content: center; } .btcpay-form .plus-minus { cursor:pointer; font-size:25px; line-height: 25px; background: #DFE0E1; height: 30px; width: 45px; border:none; border-radius: 60px; margin: auto 5px; display: inline-flex; justify-content: center; } .btcpay-form select { -moz-appearance: none; -webkit-appearance: none; appearance: none; color: currentColor; background: transparent; border:1px solid transparent; display: block; padding: 1px; margin-left: auto; margin-right: auto; font-size: 11px; cursor: pointer; } .btcpay-form select:hover { border-color: #ccc; } #btcpay-input-price { -moz-appearance: none; -webkit-appearance: none; border: none; box-shadow: none; text-align: center; font-size: 25px; margin: auto; border-radius: 5px; line-height: 35px; background: #fff; } #btcpay-input-price::-webkit-outer-spin-button, #btcpay-input-price::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; } </style>
					<form method="POST"  action="https://testnet.demo.btcpayserver.org/api/v1/invoices" class="btcpay-form btcpay-form--block">
						<input type="hidden" name="storeId" value="CMCefTvLeHs3zjt8pavqkzZoRQEEbvHsBcB2gJMcgdUx" />
						<input type="hidden" name="browserRedirect" value="https://calculate-avgs.web.app/thank-you.html" />
						<input type="hidden" name="notifyEmail" value="mohjak@gmail.com" />
						<input type="hidden" name="price" value="10" />
						<input type="hidden" name="currency" value="USD" />
						<input type="image" class="submit" name="submit" src="https://testnet.demo.btcpayserver.org/img/paybutton/pay.svg" style="width:146px" alt="Pay with BtcPay, Self-Hosted Bitcoin Payment Processor">
					</form>.
				</span>
      </p>
    </div>

  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/vue@3"></script>
  <script>
    function result(n) {
      return !isNaN(parseFloat(n).toFixed(4)) ? parseFloat(n).toFixed(4) : '' 
    }

    const calculateAvgs = Vue.createApp({
      data() {
        return {
          errors: [],
          high: '',
          low: '',
          middle: '',
          avg1: '',
          avg2: ''
        }
      },

      computed: {
        highResult() {
          return result(this.high) 
        },
        avg1Result() {
          return result(this.avg1)
        },
        middleResult() {
          return result(this.middle)
        },
        avg2Result() {
          return result(this.avg2)
        },
        lowResult() {
          return result(this.low)
        }
      },

      methods: {
        checkForm() {
          this.errors = []
          if (!this.high) {
            this.errors.push('High required.')
          }
          
          if (!this.low) {
            this.errors.push('Low required.')
          }

          if (parseFloat(this.high) < parseFloat(this.low)) {
            this.errors.push('High is less than low.')
          }
        },

        calculate() {
          this.checkForm()
          this.middle = (parseFloat(this.high) + parseFloat(this.low)) / 2
          this.avg1 = (this.middle + parseFloat(this.high)) / 2
          this.avg2 = (this.middle + parseFloat(this.low)) / 2
        },

        clear() {
          this.errors = []
          this.high = ''
          this.low = ''
          this.middle = ''
          this.avg1 = ''
          this.avg2 = ''
        }
      }
    })
    .mount('#calculate-avgs')
  </script>
</body>
</html>
